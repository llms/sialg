<?xml version="1.0" encoding="UTF-8"?>
<CDADescriptor>
   <DataSources>
      <Connection id="contratoDS" type="sql.jndi">
         <Jndi>SIALG</Jndi>
      </Connection>
      <Connection id="demandasDS" type="sql.jndi">
         <Jndi>SIALG</Jndi>
      </Connection>
      <Connection id="contratoGNDS" type="sql.jndi">
         <Jndi>SIALG</Jndi>
      </Connection>
      <Connection id="realizeDS" type="sql.jndi">
         <Jndi>SIALG</Jndi>
      </Connection>
      <Connection id="atendimentoDS" type="mondrian.jndi">
         <Catalog>mondrian:/SIALG+-+RTC</Catalog>
         <Jndi>SIALG</Jndi>
      </Connection>
      <Connection id="indicadoresDS" type="mondrian.jndi">
         <Catalog>mondrian:/SIALG+-+RTC</Catalog>
         <Jndi>SIALG</Jndi>
      </Connection>
   </DataSources>
   <DataAccess access="public" connection="contratoDS" id="contratoDS" type="sql">
      <Name>contratoDS</Name>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters/>
      <Query><![CDATA[SELECT   data."NU_ANO",  count(*)
  FROM "ALGSC002_SIALG"."ALGTB005_FATO_DEMANDAS" f 
  inner join "ALGSC002_SIALG"."ALGTB002_DIM_UNIDADES" unidades on f."CO_UNIDADE" = unidades."CO_UNIDADE" 
  inner join "ALGSC002_SIALG"."ALGTB001_DIM_DATA" data on f."CO_DT_RESOLUCAO" = data."CO_DATA"
  where  data."NU_MES" <> -1

  group by data."NU_ANO"
 
  ORDER BY data."NU_ANO"]]></Query>
   </DataAccess>
   <DataAccess access="public" connection="demandasDS" id="demandasDS" type="sql">
      <Name>demandasDS</Name>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters/>
      <Query><![CDATA[SELECT     status."NO_STATUS", count(*)
  FROM "ALGSC002_SIALG"."ALGTB005_FATO_DEMANDAS" f 
  inner join "ALGSC002_SIALG"."ALGTB003_DIM_TIPO_STATUS_DEMANDAS" status on f."CO_TIPO_STATUS_DEMANDAS" = status."CO_TIPO_STATUS_DEMANDAS" 
  inner join "ALGSC002_SIALG"."ALGTB001_DIM_DATA" data on f."CO_DT_RESOLUCAO" = data."CO_DATA"
  where  data."NU_MES" <> -1

  group by status."NO_STATUS"
 
  ORDER BY status."NO_STATUS"]]></Query>
   </DataAccess>
   <DataAccess access="public" connection="contratoGNDS" id="contratoGNDS" type="sql">
      <Name>contratoGNDS</Name>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters/>
      <Query><![CDATA[SELECT     unidades."SG_GEC", count(*)
  FROM "ALGSC002_SIALG"."ALGTB005_FATO_DEMANDAS" f 
  inner join "ALGSC002_SIALG"."ALGTB002_DIM_UNIDADES" unidades on f."CO_UNIDADE" = unidades."CO_UNIDADE" 
  inner join "ALGSC002_SIALG"."ALGTB001_DIM_DATA" data on f."CO_DT_RESOLUCAO" = data."CO_DATA"
  where  data."NU_MES" <> -1
  group by unidades."SG_GEC" 
  ORDER BY unidades."SG_GEC"]]></Query>
   </DataAccess>
   <DataAccess access="public" connection="realizeDS" id="realizeDS" type="sql">
      <Name>realizeDS</Name>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters/>
      <Query><![CDATA[SELECT   data."NO_MES", unidades."SG_GEC", count(*)
  FROM "ALGSC002_SIALG"."ALGTB005_FATO_DEMANDAS" f 
  inner join "ALGSC002_SIALG"."ALGTB002_DIM_UNIDADES" unidades on f."CO_UNIDADE" = unidades."CO_UNIDADE" 
  inner join "ALGSC002_SIALG"."ALGTB001_DIM_DATA" data on f."CO_DT_RESOLUCAO" = data."CO_DATA"
  where  data."NU_MES" <> -1

  group by unidades."SG_GEC", data."NO_MES", DATA."NU_MES"
 
  ORDER BY DATA."NU_MES"]]></Query>
   </DataAccess>
   <DataAccess access="public" connection="atendimentoDS" id="atendimentoDS" type="mdx">
      <Name>atendimentoDS</Name>
      <BandedMode>compact</BandedMode>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters>
         <Parameter default="" name="dataInicio" type="String"/>
         <Parameter default="" name="dataFim" type="String"/>
      </Parameters>
      <Query><![CDATA[WITH
SET [*NATIVE_CJ_SET_WITH_SLICER] AS 'FILTER([*BASE_MEMBERS__Data Criacao Pai_], NOT ISEMPTY ([Measures].[Qt. Pontos de Funcao]))'
SET [*NATIVE_CJ_SET] AS '[*NATIVE_CJ_SET_WITH_SLICER]'
SET [*SORTED_ROW_AXIS] AS 'ORDER([*CJ_ROW_AXIS],ANCESTOR([Data Criacao Pai].CURRENTMEMBER, [Data Criacao Pai].[Ano Criacao Pai]).ORDERKEY,BASC,[Data Criacao Pai].CURRENTMEMBER.ORDERKEY,BASC,ANCESTOR([Data Criacao Pai].CURRENTMEMBER,[Data Criacao Pai].[Trimestre Criacao Pai (N)]).ORDERKEY,BASC)'
SET [*BASE_MEMBERS__Measures_] AS '{[Measures].[Qt. Pontos de Funcao]}'
SET [*BASE_MEMBERS__Data Criacao Pai_] AS 'FILTER([Data Criacao Pai].[Mes Criacao Pai].MEMBERS,ANCESTOR([Data Criacao Pai].CURRENTMEMBER, [Data Criacao Pai].[Ano Criacao Pai]) IN {[Data Criacao Pai].[Todos].[2016]})'
SET [*CJ_ROW_AXIS] AS 'GENERATE([*NATIVE_CJ_SET], {([Data Criacao Pai].CURRENTMEMBER)})'

member [Measures].[Rglinear] as 'LinRegSlope([*SORTED_ROW_AXIS], [Measures].[Qt. Pontos de Funcao] )'

SELECT
[*BASE_MEMBERS__Measures_] ON COLUMNS
,[*SORTED_ROW_AXIS] ON ROWS
FROM [SIALG - Demandas]]]></Query>
   </DataAccess>
   <DataAccess access="public" connection="indicadoresDS" id="indicadoresDS" type="mdx">
      <Name>indicadoresDS</Name>
      <BandedMode>compact</BandedMode>
      <Cache duration="3600" enabled="true"/>
      <Columns/>
      <Parameters>
         <Parameter default="" name="dataInicio" type="String"/>
         <Parameter default="" name="dataFim" type="String"/>
      </Parameters>
      <Query><![CDATA[WITH
SET [~ROWS] AS
    { [Organizacao.Gestao da Demanda].[SUCTI].[GEABR] ,[Organizacao.Gestao da Demanda].[SUCTI].[GEARJ], [Organizacao.Gestao da Demanda].[SUCTI].[GEASP]
    }
MEMBER [Organizacao.Gestao da Demanda].[SUCTI].[SUCTI] AS AVG([Measures].[Indice - Nota Final])
  SELECT
NON EMPTY {[Measures].[Indice - Nota Final]} ON COLUMNS,
NON EMPTY {[~ROWS], [Organizacao.Gestao da Demanda].[SUCTI].[SUCTI]} ON ROWS
FROM [SIALG - Demandas]]]></Query>
   </DataAccess>
</CDADescriptor>